<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Health Awareness Chatbot</title>
<style>
body { font-family: Arial, sans-serif; background: #f4f4f4; margin:0; padding:0; }
header { background: #007bff; color: white; padding: 15px; text-align: center; }
#chat-container { width: 90%; max-width: 600px; margin: 20px auto; background: white; border-radius: 10px; padding: 15px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
#messages { height: 300px; overflow-y: scroll; border: 1px solid #ddd; padding: 10px; border-radius: 5px; }
.user-msg { background: #007bff; color: white; padding: 8px; border-radius: 5px; margin-bottom: 5px; }
.bot-msg { background: #e9ecef; padding: 8px; border-radius: 5px; margin-bottom: 5px; }
#input-area { display: flex; margin-top: 10px; }
#user-input { flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 5px; }
#send-btn, #voice-btn { background: #007bff; color: white; border: none; padding: 8px 12px; margin-left: 5px; border-radius: 5px; cursor: pointer; }
select { margin-top: 10px; padding: 6px; }
.alert { background: #ffcc00; padding: 10px; border-radius: 5px; margin-bottom: 10px; font-weight: bold; color: #333; }
.emergency-buttons { margin-top: 10px; text-align: center; }
.emergency-buttons button { border: none; padding: 10px 15px; margin: 5px; border-radius: 5px; cursor: pointer; color: white; }
.emergency-buttons button.cpr { background: #28a745; }
.emergency-buttons button.preg { background: #17a2b8; }
.emergency-buttons button.emerg { background: #dc3545; }
iframe { margin-top: 5px; }
</style>
</head>
<body>

<header>
  <h1>AI Health Awareness Chatbot</h1>
</header>

<div id="chat-container">
  <div class="alert" id="weather-alert">Checking weather and air quality...</div>

  <label for="lang">Select Language:</label>
  <select id="lang">
    <option value="en">English</option>
    <option value="hi">Hindi</option>
    <option value="te">Telugu</option>
  </select>

  <div class="emergency-buttons">
    <button class="cpr" onclick="window.open('https://www.youtube.com/watch?v=3zK2b4T3pms','_blank')">üöë CPR Immediate Guide</button>
    <button class="preg" onclick="window.location.href='tel:108'">üë©‚Äçüçº Call Ambulance (Pregnancy)</button>
    <button class="emerg" onclick="window.location.href='tel:108'">üö® Call Emergency (108)</button>
  </div>

  <div id="messages"></div>

  <div id="input-area">
    <input type="text" id="user-input" placeholder="Type your question...">
    <button id="send-btn">Send</button>
    <button id="voice-btn">üé§</button>
  </div>
</div>

<script>
// ---------------- Weather + Air Quality ----------------
const alertBox = document.getElementById('weather-alert');
const weatherApiKey = 'YOUR_OPENWEATHERMAP_API_KEY';
navigator.geolocation.getCurrentPosition(pos => {
  const lat = pos.coords.latitude;
  const lon = pos.coords.longitude;
  fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${weatherApiKey}&units=metric`)
    .then(res => res.json())
    .then(data => {
      let temp = data.main.temp;
      let condition = data.weather[0].main;
      let alertMsg = `Weather: ${condition}, Temp: ${temp}¬∞C. `;
      if (temp > 35) alertMsg += "Heat alert! Stay hydrated.";
      if (condition.toLowerCase().includes("dust") || condition.toLowerCase().includes("smoke")) {
        alertMsg += " Air quality poor! Asthma/BP patients take care.";
      }
      alertBox.textContent = alertMsg;
    });
});

// ---------------- Diseases Data ----------------
const diseases = {
  "asthma": { symptoms:{en:"Wheezing, breathlessness.",hi:"‡§∏‡•Ä‡§ü‡•Ä, ‡§∏‡§æ‡§Ç‡§∏ ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä‡•§",te:"‡∞µ‡±Ä‡∞∏‡∞ø‡∞Ç‡∞ó‡±ç, ‡∞∂‡±ç‡∞µ‡∞æ‡∞∏‡∞ï‡±ã‡∞∏ ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø‡∞≤‡±Å."}, prevention:{en:"Avoid dust, pollution.",hi:"‡§ß‡•Ç‡§≤, ‡§™‡•ç‡§∞‡§¶‡•Ç‡§∑‡§£ ‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç‡•§",te:"‡∞ß‡±Ç‡∞≥‡∞ø, ‡∞ï‡∞æ‡∞≤‡±Å‡∞∑‡±ç‡∞Ø‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞®‡∞ø‡∞µ‡∞æ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø."}, medication:{en:"Use prescribed inhalers.",hi:"‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∞‡§ø‡§§ ‡§á‡§®‡§π‡•á‡§≤‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§",te:"‡∞°‡∞æ‡∞ï‡±ç‡∞ü‡∞∞‡±ç ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞ø‡∞® ‡∞á‡∞®‡±ç‡∞π‡±á‡∞≤‡∞∞‡±ç ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø."}, image:"https://upload.wikimedia.org/wikipedia/commons/5/50/Asthma_inhaler.png", video:{en:"https://www.youtube.com/embed/IwGkbb7sxJ8",hi:"https://www.youtube.com/embed/7FXeSbfRnm0",te:"https://www.youtube.com/embed/OBp2Tb03yzU"}},
  "fever": { symptoms:{en:"High temperature, chills.",hi:"‡§â‡§ö‡•ç‡§ö ‡§§‡§æ‡§™‡§Æ‡§æ‡§®, ‡§†‡§Ç‡§° ‡§≤‡§ó‡§®‡§æ‡•§",te:"‡∞é‡∞§‡±ç‡∞§‡±à‡∞® ‡∞ú‡±ç‡∞µ‡∞∞‡∞Ç, ‡∞∂‡±Ä‡∞§‡∞≤‡∞Ç‡∞™‡±Å."}, prevention:{en:"Stay hydrated.",hi:"‡§™‡§æ‡§®‡•Ä ‡§™‡•Ä‡§è‡§Ç‡•§",te:"‡∞®‡±Ä‡∞∞‡±Å ‡∞§‡∞æ‡∞ó‡∞Ç‡∞°‡∞ø."}, medication:{en:"Paracetamol after doctor consult.",hi:"‡§°‡•â‡§ï‡•ç‡§ü‡§∞ ‡§∏‡•á ‡§™‡§∞‡§æ‡§Æ‡§∞‡•ç‡§∂ ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§™‡•à‡§∞‡§æ‡§∏‡§ø‡§ü‡§æ‡§Æ‡•ã‡§≤ ‡§≤‡•á‡§Ç‡•§",te:"‡∞°‡∞æ‡∞ï‡±ç‡∞ü‡∞∞‡±ç ‡∞∏‡∞≤‡∞π‡∞æ ‡∞§‡∞∞‡±Å‡∞µ‡∞æ‡∞§ ‡∞™‡∞æ‡∞∞‡∞æ‡∞∏‡∞ø‡∞ü‡∞Æ‡∞æ‡∞≤‡±ç ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø."}, image:"https://upload.wikimedia.org/wikipedia/commons/4/48/Fever.png", video:{en:"https://www.youtube.com/embed/1T9N_3w5rU0",hi:"https://www.youtube.com/embed/1T9N_3w5rU0",te:"https://www.youtube.com/embed/1T9N_3w5rU0"}},
  "breast cancer": { symptoms:{en:"Lump in breast.",hi:"‡§∏‡•ç‡§§‡§® ‡§Æ‡•á‡§Ç ‡§ó‡§æ‡§Ç‡§†‡•§",te:"‡∞∏‡±ç‡∞§‡∞®‡∞Ç‡∞≤‡±ã ‡∞ó‡±Å‡∞Ç‡∞°‡±ç‡∞∞‡∞ü‡∞ø."}, prevention:{en:"Regular screening.",hi:"‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§ú‡§æ‡§Ç‡§ö‡•§",te:"‡∞®‡∞ø‡∞Ø‡∞Æ‡∞ø‡∞§ ‡∞∏‡±ç‡∞ï‡±ç‡∞∞‡±Ä‡∞®‡∞ø‡∞Ç‡∞ó‡±ç."}, medication:{en:"Consult oncologist.",hi:"‡§ë‡§®‡•ç‡§ï‡•ã‡§≤‡•â‡§ú‡§ø‡§∏‡•ç‡§ü ‡§∏‡•á ‡§Æ‡§ø‡§≤‡•á‡§Ç‡•§",te:"‡∞Ü‡∞Ç‡∞ï‡∞æ‡∞≤‡∞ú‡∞ø‡∞∏‡±ç‡∞ü‡±ç ‡∞®‡±Å ‡∞∏‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø."}, image:"https://upload.wikimedia.org/wikipedia/commons/7/7b/Breast_cancer_pink_ribbon.svg", video:{en:"https://www.youtube.com/embed/atqywLmD75g",hi:"https://www.youtube.com/embed/3FL2MY7cM4k",te:"https://www.youtube.com/embed/OBp2Tb03yzU"}},
  "jaundice": { symptoms:{en:"Yellow skin and eyes.",hi:"‡§™‡•Ä‡§≤‡•Ä ‡§§‡•ç‡§µ‡§ö‡§æ ‡§î‡§∞ ‡§Ü‡§Ç‡§ñ‡•á‡§Ç‡•§",te:"‡∞™‡∞∏‡±Å‡∞™‡±Å ‡∞ö‡∞∞‡±ç‡∞Æ‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞ï‡∞®‡±ç‡∞®‡±Å‡∞≤‡±Å."}, prevention:{en:"Maintain hygiene.",hi:"‡§∏‡§æ‡§´-‡§∏‡§´‡§æ‡§à ‡§∞‡§ñ‡•á‡§Ç‡•§",te:"‡∞∂‡±Å‡∞≠‡±ç‡∞∞‡∞§ ‡∞ï‡∞æ‡∞™‡∞æ‡∞°‡∞Ç‡∞°‡∞ø."}, medication:{en:"Liver care, doctor advice.",hi:"‡§≤‡•Ä‡§µ‡§∞ ‡§ï‡•Ä ‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤, ‡§°‡•â‡§ï‡•ç‡§ü‡§∞ ‡§∏‡§≤‡§æ‡§π‡•§",te:"‡∞ï‡∞æ‡∞≤‡±á‡∞Ø ‡∞∂‡±ç‡∞∞‡∞¶‡±ç‡∞ß, ‡∞°‡∞æ‡∞ï‡±ç‡∞ü‡∞∞‡±ç ‡∞∏‡∞≤‡∞π‡∞æ."}, image:"https://upload.wikimedia.org/wikipedia/commons/6/6b/Jaundice_icon.png", video:{en:"https://www.youtube.com/embed/DzqMazWBIhA",hi:"https://www.youtube.com/embed/3FL2MY7cM4k",te:"https://www.youtube.com/embed/OBp2Tb03yzU"}},
  "obesity": { symptoms:{en:"Excess body fat.",hi:"‡§Ö‡§ß‡§ø‡§ï ‡§∂‡§∞‡•Ä‡§∞ ‡§µ‡§∏‡§æ‡•§",te:"‡∞Ö‡∞ß‡∞ø‡∞ï ‡∞∂‡∞∞‡±Ä‡∞∞ ‡∞ï‡±ä‡∞µ‡±ç‡∞µ‡±Å."}, prevention:{en:"Exercise, healthy diet.",hi:"‡§µ‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§Æ ‡§î‡§∞ ‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§Ü‡§π‡§æ‡§∞‡•§",te:"‡∞µ‡±ç‡∞Ø‡∞æ‡∞Ø‡∞æ‡∞Æ‡∞Ç, ‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞ï‡∞∞‡∞Æ‡±à‡∞® ‡∞Ü‡∞π‡∞æ‡∞∞‡∞Ç."}, medication:{en:"Dietician guidance.",hi:"‡§°‡§æ‡§Ø‡§ü‡•Ä‡§∂‡§ø‡§Ø‡§® ‡§∏‡•á ‡§∏‡§≤‡§æ‡§π ‡§≤‡•á‡§Ç‡•§",te:"‡∞°‡±à‡∞ü‡∞ø‡∞∑‡∞ø‡∞Ø‡∞®‡±ç ‡∞∏‡∞≤‡∞π‡∞æ."}, image:"https://upload.wikimedia.org/wikipedia/commons/2/20/Obesity_icon.png", video:{en:"https://www.youtube.com/embed/7m0W_c3erfI",hi:"https://www.youtube.com/embed/5b1nWJZy2oE",te:"https://www.youtube.com/embed/ZtHuJhxjP5c"}},
  "bp": { symptoms:{en:"Headache, dizziness.",hi:"‡§∏‡§ø‡§∞‡§¶‡§∞‡•ç‡§¶, ‡§ö‡§ï‡•ç‡§ï‡§∞‡•§",te:"‡∞§‡∞≤‡∞®‡±ä‡∞™‡±ç‡∞™‡∞ø, ‡∞§‡∞≤ ‡∞§‡∞ø‡∞∞‡∞ó‡∞°‡∞Ç."}, prevention:{en:"Reduce salt, stress.",hi:"‡§®‡§Æ‡§ï ‡§î‡§∞ ‡§§‡§®‡§æ‡§µ ‡§ï‡§Æ ‡§ï‡§∞‡•á‡§Ç‡•§",te:"‡∞â‡∞™‡±ç‡∞™‡±Å ‡∞§‡∞ó‡±ç‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø, ‡∞í‡∞§‡±ç‡∞§‡∞ø‡∞°‡∞ø ‡∞§‡∞ó‡±ç‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø."}, medication:{en:"BP medication prescribed.",hi:"‡§¨‡•Ä‡§™‡•Ä ‡§¶‡§µ‡§æ ‡§≤‡•á‡§Ç‡•§",te:"BP ‡∞Æ‡∞Ç‡∞¶‡±Å‡∞≤‡±Å ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø."}, image:"https://upload.wikimedia.org/wikipedia/commons/3/3e/Blood_pressure_icon.png", video:{en:"https://www.youtube.com/embed/mjTMZ_sm0LQ",hi:"https://www.youtube.com/embed/3FL2MY7cM4k",te:"https://www.youtube.com/embed/OBp2Tb03yzU"}},
  "diabetes": { symptoms:{en:"Frequent urination, thirst.",hi:"‡§¨‡§æ‡§∞-‡§¨‡§æ‡§∞ ‡§™‡•á‡§∂‡§æ‡§¨, ‡§™‡•ç‡§Ø‡§æ‡§∏‡•§",te:"‡∞§‡∞∞‡∞ö‡±Å‡∞ó‡∞æ ‡∞Æ‡±Ç‡∞§‡±ç‡∞∞ ‡∞µ‡∞ø‡∞∏‡∞∞‡±ç‡∞ú‡∞®, ‡∞¶‡∞æ‡∞π‡∞Ç."}, prevention:{en:"Diet control, exercise.",hi:"‡§Ü‡§π‡§æ‡§∞ ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£, ‡§µ‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§Æ‡•§",te:"‡∞Ü‡∞π‡∞æ‡∞∞‡∞Ç ‡∞®‡∞ø‡∞Ø‡∞Ç‡∞§‡±ç‡∞∞‡∞£, ‡∞µ‡±ç‡∞Ø‡∞æ‡∞Ø‡∞æ‡∞Æ‡∞Ç."}, medication:{en:"Insulin/oral drugs.",hi:"‡§á‡§Ç‡§∏‡•Å‡§≤‡§ø‡§®/‡§¶‡§µ‡§æ ‡§≤‡•á‡§Ç‡•§",te:"‡∞á‡∞®‡±ç‡∞∏‡±Å‡∞≤‡∞ø‡∞®‡±ç/‡∞Æ‡∞Ç‡∞¶‡±Å‡∞≤‡±Å ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø."}, image:"https://upload.wikimedia.org/wikipedia/commons/8/8a/Diabetes_icon.png", video:{en:"https://www.youtube.com/embed/7HgEh5cWfJc",hi:"https://www.youtube.com/embed/5b1nWJZy2oE",te:"https://www.youtube.com/embed/ZtHuJhxjP5c"}},
  "heart attack": { symptoms:{en:"Chest pain, sweating.",hi:"‡§∏‡•Ä‡§®‡§æ ‡§¶‡§∞‡•ç‡§¶, ‡§™‡§∏‡•Ä‡§®‡§æ‡•§",te:"‡∞Æ‡±ã‡∞ö‡±á‡∞§‡∞ø ‡∞®‡±ä‡∞™‡±ç‡∞™‡∞ø, ‡∞à‡∞§‡∞≤ ‡∞µ‡±á‡∞≥."}, prevention:{en:"Healthy lifestyle.",hi:"‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§ú‡•Ä‡§µ‡§®‡§∂‡•à‡§≤‡•Ä‡•§",te:"‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞ï‡∞∞‡∞Æ‡±à‡∞® ‡∞ú‡±Ä‡∞µ‡∞®‡∞∂‡±à‡∞≤‡∞ø."}, medication:{en:"Emergency hospital visit.",hi:"‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤ ‡§ú‡§æ‡§è‡§Ç‡•§",te:"‡∞§‡∞ï‡±ç‡∞∑‡∞£‡∞Ç ‡∞π‡∞æ‡∞∏‡±ç‡∞™‡∞ø‡∞ü‡∞≤‡±ç ‡∞µ‡±Ü‡∞≥‡±ç‡∞≥‡∞Ç‡∞°‡∞ø."}, image:"https://upload.wikimedia.org/wikipedia/commons/3/3d/Heart_attack_icon.png", video:{en:"https://www.youtube.com/embed/Fu1u11iRKAE",hi:"https://www.youtube.com/embed/3FL2MY7cM4k",te:"https://www.youtube.com/embed/OBp2Tb03yzU"}},
  "pcod": { symptoms:{en:"Irregular periods.",hi:"‡§Ö‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§ß‡§∞‡•ç‡§Æ‡•§",te:"‡∞Ö‡∞®‡∞ø‡∞Ø‡∞Æ‡∞ø‡∞§ ‡∞™‡±Ä‡∞∞‡∞ø‡∞Ø‡∞°‡±ç‡∞∏‡±ç."}, prevention:{en:"Healthy weight.",hi:"‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§µ‡§ú‡§®‡•§",te:"‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞ï‡∞∞‡∞Æ‡±à‡∞® ‡∞¨‡∞∞‡±Å‡∞µ‡±Å."}, medication:{en:"Doctor-prescribed medication.",hi:"‡§°‡•â‡§ï‡•ç‡§ü‡§∞ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§¶‡§µ‡§æ‡•§",te:"‡∞°‡∞æ‡∞ï‡±ç‡∞ü‡∞∞‡±ç ‡∞á‡∞ö‡±ç‡∞ö‡∞ø‡∞® ‡∞Æ‡∞Ç‡∞¶‡±Å‡∞≤‡±Å."}, image:"https://upload.wikimedia.org/wikipedia/commons/e/e3/PCOS_icon.png", video:{en:"https://www.youtube.com/embed/ZNMRtG3w7QY",hi:"https://www.youtube.com/embed/ZNMRtG3w7QY",te:"https://www.youtube.com/embed/ZNMRtG3w7QY"}},
  "blood cancer": { symptoms:{en:"Fatigue, fever.",hi:"‡§•‡§ï‡§æ‡§®, ‡§¨‡•Å‡§ñ‡§æ‡§∞‡•§",te:"‡∞Ö‡∞≤‡∞∏‡∞ü, ‡∞ú‡±ç‡∞µ‡∞∞‡∞Ç."}, prevention:{en:"Regular checkups.",hi:"‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§ú‡§æ‡§Ç‡§ö‡•§",te:"‡∞®‡∞ø‡∞Ø‡∞Æ‡∞ø‡∞§ ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä‡∞≤‡±Å."}, medication:{en:"Chemotherapy (doctor).",hi:"‡§ï‡•Ä‡§Æ‡•ã‡§•‡•á‡§∞‡•á‡§™‡•Ä (‡§°‡•â‡§ï‡•ç‡§ü‡§∞)‡•§",te:"‡∞ï‡±Ä‡∞Æ‡±ã‡∞•‡±Ü‡∞∞‡∞™‡±Ä (‡∞°‡∞æ‡∞ï‡±ç‡∞ü‡∞∞‡±ç)."}, image:"https://upload.wikimedia.org/wikipedia/commons/4/4f/Blood_drop_icon.png", video:{en:"https://www.youtube.com/embed/aqz-KE-bpKQ",hi:"https://www.youtube.com/embed/aqz-KE-bpKQ",te:"https://www.youtube.com/embed/aqz-KE-bpKQ"}},
  "rabies": { symptoms:{en:"Fever, hydrophobia.",hi:"‡§¨‡•Å‡§ñ‡§æ‡§∞, ‡§ú‡§≤ ‡§∏‡•á ‡§°‡§∞‡•§",te:"‡∞ú‡±ç‡∞µ‡∞∞‡∞Ç, ‡∞®‡±Ä‡∞∞‡±Å ‡∞™‡∞ü‡±ç‡∞≤ ‡∞≠‡∞Ø‡∞Ç."}, prevention:{en:"Vaccinate pets.",hi:"‡§™‡§æ‡§≤‡§§‡•Ç ‡§ú‡§æ‡§®‡§µ‡§∞‡•ã‡§Ç ‡§ï‡§æ ‡§ü‡•Ä‡§ï‡§æ‡§ï‡§∞‡§£‡•§",te:"‡∞™‡±Ü‡∞Ç‡∞™‡±Å‡∞°‡±Å ‡∞ú‡∞Ç‡∞§‡±Å‡∞µ‡±Å‡∞≤‡∞ï‡±Å ‡∞ü‡±Ä‡∞ï‡∞æ ‡∞µ‡±á‡∞Ø‡∞Ç‡∞°‡∞ø."}, medication:{en:"Rabies vaccine after bite.",hi:"‡§ï‡§æ‡§ü‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§∞‡•á‡§¨‡•Ä‡§ú ‡§ï‡§æ ‡§ü‡•Ä‡§ï‡§æ‡•§",te:"‡∞§‡±ä‡∞ï‡±ç‡∞ï‡∞ø‡∞® ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§ ‡∞∞‡±á‡∞¨‡±Ä‡∞∏‡±ç ‡∞ü‡±Ä‡∞ï‡∞æ."}, image:"https://upload.wikimedia.org/wikipedia/commons/3/3d/Rabies_icon.png", video:{en:"https://www.youtube.com/embed/0y8pClSxH2I",hi:"https://www.youtube.com/embed/0y8pClSxH2I",te:"https://www.youtube.com/embed/0y8pClSxH2I"}},
  "mumps": { symptoms:{en:"Swollen jaw, fever.",hi:"‡§∏‡•Ç‡§ú‡•Ä ‡§π‡•Å‡§à ‡§ú‡§¨‡§°‡§º‡§æ, ‡§¨‡•Å‡§ñ‡§æ‡§∞‡•§",te:"‡∞™‡±ä‡∞°‡±Å‡∞ó‡±Å‡∞ó‡∞æ ‡∞ö‡±Ä‡∞≤‡∞ø‡∞® ‡∞ö‡±Ü‡∞Æ‡∞ü, ‡∞ú‡±ç‡∞µ‡∞∞‡∞Ç."}, prevention:{en:"Vaccination.",hi:"‡§ü‡•Ä‡§ï‡§æ‡§ï‡§∞‡§£‡•§",te:"‡∞ü‡±Ä‡∞ï‡∞æ ‡∞µ‡±á‡∞Ø‡∞°‡∞Ç."}, medication:{en:"Rest & fluids.",hi:"‡§Ü‡§∞‡§æ‡§Æ ‡§î‡§∞ ‡§™‡§æ‡§®‡•Ä‡•§",te:"‡∞µ‡∞ø‡∞∂‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞®‡±Ä‡∞∞‡±Å."}, image:"https://upload.wikimedia.org/wikipedia/commons/1/1d/Mumps_icon.png", video:{en:"https://www.youtube.com/embed/XdPbHF5vXzA",hi:"https://www.youtube.com/embed/XdPbHF5vXzA",te:"https://www.youtube.com/embed/XdPbHF5vXzA"}},
  "appendix": { symptoms:{en:"Lower abdominal pain.",hi:"‡§®‡•Ä‡§ö‡•á ‡§™‡•á‡§ü ‡§Æ‡•á‡§Ç ‡§¶‡§∞‡•ç‡§¶‡•§",te:"‡∞ï‡∞ø‡∞Ç‡∞¶‡∞µ‡∞Ç‡∞ü‡∞ø ‡∞™‡±ä‡∞ü‡±ç‡∞ü ‡∞®‡±ä‡∞™‡±ç‡∞™‡∞ø."}, prevention:{en:"Seek medical help.",hi:"‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§æ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§≤‡•á‡§Ç‡•§",te:"‡∞µ‡±à‡∞¶‡±ç‡∞Ø ‡∞∏‡∞π‡∞æ‡∞Ø‡∞Ç ‡∞§‡±Ä‡∞∏‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø."}, medication:{en:"Surgery often needed.",hi:"‡§Ö‡§ï‡•ç‡§∏‡§∞ ‡§∏‡§∞‡•ç‡§ú‡§∞‡•Ä ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ‡•§",te:"‡∞∏‡∞∞‡±ç‡∞ú‡∞∞‡±Ä ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Ç."}, image:"https://upload.wikimedia.org/wikipedia/commons/5/5f/Appendix_icon.png", video:{en:"https://www.youtube.com/embed/6Rkt0nztYoM",hi:"https://www.youtube.com/embed/6Rkt0nztYoM",te:"https://www.youtube.com/embed/6Rkt0nztYoM"}}
};

// ---------------- Chatbot ----------------
const messages = document.getElementById('messages');
const userInput = document.getElementById('user-input');
const sendBtn = document.getElementById('send-btn');
const langSelect = document.getElementById('lang');

const translations = { en: { symptoms: "Symptoms", prevention: "Prevention", medication: "Medication" },
                       hi: { symptoms: "‡§≤‡§ï‡•ç‡§∑‡§£", prevention: "‡§∞‡•ã‡§ï‡§•‡§æ‡§Æ", medication: "‡§¶‡§µ‡§æ" },
                       te: { symptoms: "‡∞≤‡∞ï‡±ç‡∞∑‡∞£‡∞æ‡∞≤‡±Å", prevention: "‡∞®‡∞ø‡∞µ‡∞æ‡∞∞‡∞£", medication: "‡∞î‡∞∑‡∞ß‡∞Ç" } };

function addMessage(text, isUser=false) {
  const div = document.createElement('div');
  div.className = isUser ? 'user-msg' : 'bot-msg';
  div.innerHTML = text;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

function handleUserInput(input) {
  let lang = langSelect.value;
  input = input.toLowerCase();
  addMessage(input,true);
  if(diseases[input]){
    let d = diseases[input];
    let t = translations[lang];
    let reply = `<strong>${input.toUpperCase()}</strong><br>
    ${t.symptoms}: ${d.symptoms[lang]}<br>
    ${t.prevention}: ${d.prevention[lang]}<br>
    ${t.medication}: ${d.medication[lang]}<br>
    <img src="${d.image}" width="100">`;
    if(d.video[lang]) reply += `<br><iframe width="300" height="170" src="${d.video[lang]}" frameborder="0" allowfullscreen></iframe>`;
    addMessage(reply);
  } else {
    const notFound = lang==='hi' ? "‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§ß‡§ø‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§¶‡•á‡§Ç‡•§" : lang==='te' ? "‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ç‡∞§ ‡∞∏‡∞Æ‡∞æ‡∞ö‡∞æ‡∞∞‡∞Ç ‡∞á‡∞µ‡±ç‡∞µ‡∞Ç‡∞°‡∞ø." : "Please provide more details.";
    addMessage(notFound);
  }
}

sendBtn.addEventListener('click', ()=>{ if(userInput.value.trim()!==''){ handleUserInput(userInput.value.trim()); userInput.value=''; }});

// ---------------- Voice Recognition ----------------
const voiceBtn = document.getElementById('voice-btn');
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
if(SpeechRecognition){
  const recognition = new SpeechRecognition();
  recognition.lang = 'en-IN';
  recognition.onresult = event => {
    let transcript = event.results[0][0].transcript;
    userInput.value = transcript;
    handleUserInput(transcript);
  };
  voiceBtn.addEventListener('click', ()=>{
    recognition.lang = langSelect.value==='hi'?'hi-IN':langSelect.value==='te'?'te-IN':'en-IN';
    recognition.start();
  });
} else { voiceBtn.disabled=true; voiceBtn.textContent='No üé§'; }

</script>
</body>
</html>
